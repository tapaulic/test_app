var CotApp=function(){this.appContentKeySuffix="/"};CotApp.prototype.loadAppContent=function(e){var t={},o=$.extend({keys:[],tag:"",onComplete:function(e){},onProgress:function(e,t,o,r){}},e),r=this;if(o.tag);else{var n=0;o.keys.forEach(function(e){$.ajax({url:"/app_content/"+e+r.appContentKeySuffix,success:function(r){t[e]=r,o.onProgress(e)},error:function(t,r,n){o.onProgress(e,t,r,n)},complete:function(){++n>=o.keys.length&&o.onComplete(t)}})}),0===o.keys.length&&o.onComplete(t)}},CotApp.prototype.showTerms=function(e){var t=$.extend({termsText:"Content missing: terms text",disagreedText:"Content missing: terms disagreed text",agreedCookieName:"terms_cookie"+Math.random().toString().split(".")[1],containerSelector:"",onAgreed:function(e){},onDisagreed:function(){},agreementTitle:"Terms of Use Agreement"},e);if(!t.containerSelector)throw new Error("missing container selector for CotApp#showTerms");if("agree"!==$.cookie(t.agreedCookieName)){var o=this;$(t.containerSelector).html('<section id="cot-terms"><div id="cot-terms-title"><h2>'+t.agreementTitle+'</h2></div><div class="row"><article class="media col-xs-12"><div id="cot-terms-body">'+t.termsText+'</div><div class="btn-toolbar"><div class="btn-group"><button id="cot-terms-agree" class="btn btn-primary" type="button">Agree</button></div><div class="btn-group"><button id="cot-terms-disagree" class="btn btn-primary" type="button">Disagree</button></div></div></article></div></section>'),$("#cot-terms-agree").click(function(){$.cookie(t.agreedCookieName,"agree"),$("#cot-terms").remove(),t.onAgreed(!0)}),$("#cot-terms-disagree").click(function(){$("#cot-terms").remove(),$(t.containerSelector).html('<section id="cot-terms"><div id="cot-terms-title"><h2>Unable to Proceed</h2></div><div class="row"><article class="media col-xs-12"><div id="cot-terms-body">'+t.disagreedText+'</div><div class="buttons"><button id="cot-terms-return" class="btn btn-primary" type="button">Terms and Conditions</button></div></article></div></section>'),$("#cot-terms-return").click(function(){$("#cot-terms").remove(),o.showTerms(t),$("#cot-terms-agree").focus()}).focus(),t.onDisagreed()})}else t.onAgreed(!1)};